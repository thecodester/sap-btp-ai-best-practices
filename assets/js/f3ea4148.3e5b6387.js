"use strict";(self.webpackChunksap_btp_ai_best_practices_website=self.webpackChunksap_btp_ai_best_practices_website||[]).push([[7209],{483:(e,n,i)=>{i.d(n,{A:()=>x});var s=i(6540),t=i(4863),a=i(9030);const r="loginWallContainer_sHoo",o="loginWallOverlay_KYII",l="loginWallPopup_PsuK",c="headerContainer_L6CK",d="contentContainer_URUq",h="actionsWrapper_zWRC",A="errorMessage_dTqd",u="termsText_TJkc",p="createAccountLink_gpro",m="orSeparator_LvUk",T="loadingContainer_hxnG",L="spinner_IMfn";var g=i(6289),_=i(4848);const x=e=>{let{children:n,message:i="Log in or create a free SAP account to unlock this content. Get started in moments!",title:x="Unlock Free Content",renderOnlyWhenLoggedIn:E=!1}=e;const{isLoggedIn:j,login:f,isLoading:S,token:N}=(0,t.A)(),P=(0,a.Ay)("/img/logo.svg"),b=(0,a.Ay)("/privacy"),[I,v]=(0,s.useState)(!1),[y,R]=(0,s.useState)(!1);return j||N&&S?(0,_.jsx)(_.Fragment,{children:n}):S?(0,_.jsx)("div",{className:T,children:(0,_.jsx)("div",{className:L})}):E?null:(0,_.jsx)("div",{className:r,children:(0,_.jsx)("div",{className:o,children:(0,_.jsxs)("div",{className:l,children:[(0,_.jsx)("div",{className:c,children:"Login or create a free SAP account"}),(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("h2",{children:x}),(0,_.jsx)("p",{children:i})]}),(0,_.jsxs)("div",{className:h,style:{marginTop:"-10px",paddingTop:"0"},children:[(0,_.jsxs)("button",{onClick:()=>{R(!1),f()},className:"button button--primary button--lg",children:[(0,_.jsx)("img",{src:P,alt:"SAP Logo"})," Login with your SAP account"]}),y&&(0,_.jsx)("p",{className:A,children:"You must accept the terms and conditions to continue."}),(0,_.jsxs)("p",{className:u,style:{marginBottom:"0",textAlign:"center"},children:['By clicking "Login with your SAP account", you agree to SAP BTP AI Best Practices\' terms. You can learn about how SAP BTP AI Best Practices collects, uses, and shares data in the'," ",(0,_.jsx)(g.A,{to:b,target:"_blank",rel:"noopener noreferrer",children:"SAP BTP AI Best Practices' Privacy Statement"}),"."]}),(0,_.jsx)("div",{className:m,children:"or"}),(0,_.jsx)(g.A,{to:"https://account.sap.com/register",target:"_blank",className:p,children:"Create your free SAP account"})]})]})})})}},728:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var s=i(1552),t=i(1796),a=i(4848);function r(e){let{href:n,className:i,target:r,trackingFeature:o,children:l}=e;const c=()=>o?s.q.BUTTON_CLICK[o]:`trackable-link:${n}`,d=e=>{(0,t.sx)({featureName:c(),additionalData:{isNewTab:e.ctrlKey||e.metaKey||1===e.button||"_blank"===r,interactionType:e.type}})};return(0,a.jsx)("a",{href:n,className:i,target:r,onClick:d,onAuxClick:d,onContextMenu:e=>{(0,t.sx)({featureName:c(),additionalData:{isNewTab:!0,interactionType:"contextmenu"}})},children:l})}},1632:(e,n,i)=>{i(4825);var s=i(3013);(0,s.pU)("video",{pathData:"M0 352V160q0-26 19-45t45-19h224q26 0 45 19t19 45v29L464 69q8-5 16-5 13 0 22.5 9t9.5 23v320q0 14-9.5 23t-22.5 9q-9 0-16-4L352 324v28q0 27-19 45.5T288 416H64q-26 0-45-18.5T0 352zm64 32h224q14 0 23-9t9-23V160q0-13-9-22.5t-23-9.5H64q-14 0-23 9.5T32 160v192q0 14 9 23t23 9zm288-154v53l128 133V96z",ltr:!1,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"});(0,s.pU)("video",{pathData:"M486 128q11 0 18.5 7.5T512 154v204q0 11-7.5 18.5T486 384q-6 0-11-3l-91-45v22q0 38-26 64t-64 26H90q-38 0-64-26T0 358V154q0-38 26-64t64-26h204q38 0 64 26t26 64v22l91-45q6-3 11-3zm-153 26q0-17-11-28t-28-11H90q-17 0-28 11t-11 28v204q0 17 11 28t28 11h204q17 0 28-11t11-28V154zm128 41l-77 38v45l77 39V195z",ltr:!1,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"})},2128:(e,n,i)=>{i.d(n,{A:()=>c});var s=i(6540),t=i(9030),a=i(3302);const r=JSON.parse('{"p":{"luis-marques":{"name":"Marques, Luis","photo":"/img/contributors/luis-marques.jpg","link":"https://www.linkedin.com/in/luismarques-io/"},"marco-cigaina":{"name":"Cigaina, Marco","photo":"/img/contributors/marco-cigaina.jpg"},"andrii-rzhaksynskyi":{"name":"Rzhaksynskyi, Andrii","photo":"/img/contributors/andrii-rzhaksynskyi.jpg","link":"https://www.linkedin.com/in/andreyrzhaksinskiy/"},"velizar-stoyanov":{"name":"Stoyanov, Velizar","photo":"/img/contributors/velizar-stoyanov.jpg"},"joel-rodriguez":{"name":"Rodriguez, Joel","photo":"/img/contributors/joel-rodriguez.jpg"},"aman-chopra":{"name":"Chopra, Aman","photo":"/img/contributors/aman-chopra.jpg"},"felix-bartler":{"name":"Bartler, Felix","photo":"/img/contributors/felix-bartler.jpg"},"francisco-robledo":{"name":"Robledo, Francisco","photo":"/img/contributors/francisco-robledo.jpg"},"robert-schulz":{"name":"Schulz, Robert","photo":"/img/contributors/robert-schulz.png"},"dan-antonio":{"name":"Antonio, Dan","photo":"/img/contributors/dan-antonio.jpg"},"ian-humphries":{"name":"Humphries, Ian","photo":"/img/contributors/ian-humphries.jpg"},"joerg-lange":{"name":"Lange, Joerg","photo":"/img/contributors/joerg-lange.jpg"},"chirag-gupta":{"name":"Gupta, Chirag","photo":"/img/contributors/chirag-gupta.jpg"},"bhagabat-prasad-behera":{"name":"Behera, Bhagabat Prasad","photo":"/img/contributors/bhagabat-prasad-behera.jpg"},"sergio-pacheco-sanchez":{"name":"Pacheco-Sanchez, Sergio"},"rajeshwari-kute":{"name":"Kute, Rajeshwari","photo":"/img/contributors/rajeshwari-kute.jpg"}}}');i(9754);var o=i(4848);function l(e){let{contributorId:n}=e;const i=r.p[n]||{name:n,photo:null},[l,c]=s.useState(!i.photo),d=i.photo?.startsWith("http")?i.photo:(0,t.Ay)(i.photo),h=i.link?"a":"div",A=i.link?{href:i.link,target:"_blank",rel:"noopener noreferrer"}:{};return(0,o.jsxs)(h,{className:"contributor-card",...A,children:[!l&&(0,o.jsx)("img",{src:d,alt:i.name,className:"contributor-photo",onError:()=>c(!0)}),(0,o.jsx)("div",{className:"contributor-photo contributor-photo-placeholder",style:{display:l?"flex":"none"},children:(0,o.jsx)(a.A,{name:"person-placeholder"})}),(0,o.jsx)("div",{className:"contributor-name",children:i.name})]})}function c(e){let{contributorIds:n,className:i=""}=e;return(0,o.jsx)("div",{className:`contributors-grid ${i}`,children:n.map((e=>(0,o.jsx)(l,{contributorId:e},e)))})}},2491:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/arch-ea216316de622d9b85bf2709e0fcd712.png"},4520:(e,n,i)=>{i(4825);var s=i(3013);(0,s.pU)("pdf-attachment",{pathData:"M496 223q16 0 16 16t-16 16h-85v44h60q16 0 16 16t-16 16h-60v60q0 16-16 16-6 0-11-4.5t-5-11.5V239q0-7 5-11.5t11-4.5h101zm-363 67q0 27-19 46.5T67 356H32v35q0 16-16 16-6 0-11-4.5T0 391V239q0-7 5-11.5t11-4.5h51q28 0 47 19.5t19 47.5zM32 324h35q14 0 24-10t10-24-10-24.5T67 255H32v69zm221-101q28 0 47 19.5t19 47.5v50q0 28-19 47.5T253 407h-51q-6 0-11-4.5t-5-11.5V239q0-7 5-11.5t11-4.5h51zm34 67q0-14-10-24.5T253 255h-35v120h35q14 0 24-10.5t10-24.5v-50zm132 153h32v36q0 14-9 23t-23 9H99q-14 0-23-9t-9-23v-33h32v33h320v-36zM99 192H67v-64L195 0h224q13 0 22 9 10 10 10 23v64h-32V32H227v96q0 13-10 22-9 9-23 9H99v33z",ltr:!0,collection:"SAP-icons-v4",packageName:"@ui5/webcomponents-icons"});(0,s.pU)("pdf-attachment",{pathData:"M294 96q-10 0-17-7l-39-38H83v19q0 11-7 18.5T58 96t-18.5-7.5T32 70V26q0-11 7.5-18.5T58 0h190q9 0 18 7l46 45q8 8 8.5 18T313 88t-19 8zm121 113v22h47q11 0 18.5 7t7.5 18-7.5 18.5T462 282h-47v47q0 11-7.5 18.5T389 355t-18-7.5-7-18.5V184q0-11 7-18.5t18-7.5h97q11 0 18.5 7.5T512 184t-7.5 18-18.5 7h-71zM74 158q31 0 52.5 21.5T148 232t-21.5 52.5T74 306H51v23q0 11-7 18.5T26 355t-18.5-7.5T0 329V184q0-11 7.5-18.5T26 158h48zm179 0q31 0 52.5 21.5T327 232v49q0 31-21.5 52.5T253 355h-49q-11 0-18-7.5t-7-18.5V184q0-11 7-18.5t18-7.5h49zM74 255q10 0 16.5-6.5T97 232q0-9-6.5-16T74 209H51v46h23zm202-23q0-9-7-16t-16-7h-23v95h23q9 0 16-7t7-16v-49zm114 280H26q-11 0-18.5-7.5T0 486v-44q0-11 7.5-18.5T26 416t18 7.5 7 18.5v19h314v-19q0-11 7-18.5t18-7.5 18.5 7.5T416 442v44q0 11-7.5 18.5T390 512z",ltr:!0,collection:"SAP-icons-v5",packageName:"@ui5/webcomponents-icons"})},5537:(e,n,i)=>{i.d(n,{A:()=>j});var s=i(6540),t=i(4164),a=i(5627),r=i(6347),o=i(372),l=i(604),c=i(1861),d=i(8749);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function A(e){const{values:n,children:i}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:i,attributes:s,default:t}}=e;return{value:n,label:i,attributes:s,default:t}}))}(i);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function u(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:i}=e;const t=(0,r.W6)(),a=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,l.aZ)(a),(0,s.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function m(e){const{defaultValue:n,queryString:i=!1,groupId:t}=e,a=A(e),[r,l]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=i.find((e=>e.default))??i[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a}))),[c,h]=p({queryString:i,groupId:t}),[m,T]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,a]=(0,d.Dv)(i);return[t,(0,s.useCallback)((e=>{i&&a.set(e)}),[i,a])]}({groupId:t}),L=(()=>{const e=c??m;return u({value:e,tabValues:a})?e:null})();(0,o.A)((()=>{L&&l(L)}),[L]);return{selectedValue:r,selectValue:(0,s.useCallback)((e=>{if(!u({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),T(e)}),[h,T,a]),tabValues:a}}var T=i(9136);const L={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=i(4848);function _(e){let{className:n,block:i,selectedValue:s,selectValue:r,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),d=e=>{const n=e.currentTarget,i=l.indexOf(n),t=o[i].value;t!==s&&(c(n),r(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const i=l.indexOf(e.currentTarget)+1;n=l[i]??l[0];break}case"ArrowLeft":{const i=l.indexOf(e.currentTarget)-1;n=l[i]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":i},n),children:o.map((e=>{let{value:n,label:i,attributes:a}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{l.push(e)},onKeyDown:h,onClick:d,...a,className:(0,t.A)("tabs__item",L.tabItem,a?.className,{"tabs__item--active":s===n}),children:i??n},n)}))})}function x(e){let{lazy:n,children:i,selectedValue:a}=e;const r=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===a));return e?(0,s.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function E(e){const n=m(e);return(0,g.jsxs)("div",{className:(0,t.A)("tabs-container",L.tabList),children:[(0,g.jsx)(_,{...n,...e}),(0,g.jsx)(x,{...n,...e})]})}function j(e){const n=(0,T.A)();return(0,g.jsx)(E,{...e,children:h(e.children)},String(n))}},6015:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>g,contentTitle:()=>L,default:()=>E,frontMatter:()=>T,metadata:()=>s,toc:()=>_});const s=JSON.parse('{"id":"technical-view/narrow-ai/anomaly-detection","title":"Anomaly Detection","description":"","source":"@site/docs/02-technical-view/02-narrow-ai/06-anomaly-detection.mdx","sourceDirName":"02-technical-view/02-narrow-ai","slug":"/technical-view/narrow-ai/anomaly-detection","permalink":"/docs/technical-view/narrow-ai/anomaly-detection","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Anomaly Detection","description":"","hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Time Series Forecasting","permalink":"/docs/technical-view/narrow-ai/time-series-forecasting"},"next":{"title":"Deployment of Custom Predictive Models","permalink":"/docs/technical-view/narrow-ai/deployment-custom-predictive-models"}}');var t=i(4848),a=i(8453),r=i(9329),o=i(5537),l=i(9030),c=i(483),d=i(3302),h=(i(1632),i(4520),i(728)),A=i(2416),u=i(1014),p=i(6289),m=i(2128);const T={title:"Anomaly Detection",description:"",hide_title:!0},L=void 0,g={},_=[{value:'<span class="step-number">1</span> <span class="step-title">Overview</span>',id:"1-overview",level:2},{value:"Description",id:"description",level:3},{value:"Expected Outcome",id:"expected-outcome",level:3},{value:"Benefits",id:"benefits",level:3},{value:"Key Algorithms",id:"key-algorithms",level:3},{value:"General Anomaly Detection Functions",id:"general-anomaly-detection-functions",level:4},{value:"Timeseries Anomalies Detection Functions",id:"timeseries-anomalies-detection-functions",level:4},{value:"Regression Anomalies Detection Functions",id:"regression-anomalies-detection-functions",level:4},{value:'<span class="step-number">2</span> <span class="step-title">Pre-requisites</span>',id:"2-pre-requisites",level:2},{value:"Supported SAP HANA Versions and Editions",id:"supported-sap-hana-versions-and-editions",level:3},{value:"Required SAP HANA Components",id:"required-sap-hana-components",level:3},{value:"Required User Authorizations and Roles",id:"required-user-authorizations-and-roles",level:3},{value:"Summary",id:"summary",level:3},{value:"High-level Reference Architecture",id:"high-level-reference-architecture",level:3},{value:"Calling PAL and APL Functions",id:"calling-pal-and-apl-functions",level:3},{value:'<span class="step-number">3</span> <span class="step-title">Key Choices and Guidelines</span>',id:"3-key-choices-and-guidelines",level:2},{value:"Understand Your Data and Anomaly Type",id:"understand-your-data-and-anomaly-type",level:3},{value:"Leverage In-Database Detection When Possible",id:"leverage-in-database-detection-when-possible",level:3},{value:"Algorithm Selection",id:"algorithm-selection",level:3},{value:"General Anomaly Detection Functions",id:"general-anomaly-detection-functions-1",level:4},{value:"DBSCAN",id:"dbscan",level:5},{value:"Isolation Forest",id:"isolation-forest",level:5},{value:"One-Class SVM",id:"one-class-svm",level:5},{value:"K\u2011Means\u2011Based Outlier Scoring",id:"kmeansbased-outlier-scoring",level:5},{value:"Quick decision checklist",id:"quick-decision-checklist",level:4},{value:"Timeseries Anomalies Detection",id:"timeseries-anomalies-detection",level:3},{value:"Quick decision checklist",id:"quick-decision-checklist-1",level:4},{value:"Regression Model Outlier Detection",id:"regression-model-outlier-detection",level:4},{value:"Data Preparation and Model Evaluation",id:"data-preparation-and-model-evaluation",level:3},{value:'<span class="step-number">4</span> <span class="step-title">Implementation</span>',id:"4-implementation",level:2},{value:"Programming Model Selection Guidelines",id:"programming-model-selection-guidelines",level:3},{value:"Recommended",id:"recommended",level:3},{value:"SDKs",id:"sdks",level:3},{value:"Tutorials and Learning Journeys",id:"tutorials-and-learning-journeys",level:3},{value:"Reference Code",id:"reference-code",level:3},{value:"Recommended",id:"recommended-1",level:4},{value:"Relevant Code",id:"relevant-code",level:4},{value:"Reference Information",id:"reference-information",level:3},{value:"SDKs",id:"sdks-1",level:3},{value:"Tutorials and Learning Journeys",id:"tutorials-and-learning-journeys-1",level:3},{value:"Reference Code",id:"reference-code-1",level:3},{value:'<span class="post-article-first-title">Related Best Practices</span>',id:"related-best-practices",level:2},{value:"Related AI Capabilities",id:"related-ai-capabilities",level:2},{value:"Contributors",id:"contributors",level:2}];function x(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{}),"\n",(0,t.jsx)("div",{className:"hero-header",children:(0,t.jsx)("h1",{children:"Anomaly Detection"})}),"\n",(0,t.jsx)("div",{className:"section-with-background",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsxs)("div",{className:"col col--8",children:[(0,t.jsx)("h2",{children:"Steps"}),(0,t.jsxs)("ol",{className:"steps-list",children:[(0,t.jsx)("li",{children:(0,t.jsx)(p.A,{to:"#1-overview",children:"Overview"})}),(0,t.jsx)("li",{children:(0,t.jsx)(p.A,{to:"#2-pre-requisites",children:"Pre-requisites"})}),(0,t.jsx)("li",{children:(0,t.jsx)(p.A,{to:"#3-key-choices-and-guidelines",children:"Key Choices and Guidelines"})}),(0,t.jsx)("li",{children:(0,t.jsx)(p.A,{to:"#4-implementation",children:"Implementation"})})]})]}),(0,t.jsx)("div",{className:"col col--4",children:(0,t.jsxs)("ul",{className:"resource-links",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(p.A,{target:"_blank",to:(0,l.Ay)("narrow-ai/anomaly-detection/videos/BTP AI Best Practices - Anomaly Detection (intro)_external.mp4"),children:[(0,t.jsx)(d.A,{name:"video"}),(0,t.jsx)("span",{children:"Teaser"})]})}),(0,t.jsxs)(c.A,{renderOnlyWhenLoggedIn:!0,children:[(0,t.jsx)("li",{children:(0,t.jsxs)(p.A,{target:"_blank",to:(0,l.Ay)("narrow-ai/anomaly-detection/videos/BTP AI Best Practices - Anomaly Detection.mp4"),children:[(0,t.jsx)(d.A,{name:"video"}),(0,t.jsx)("span",{children:"Webinar"})]})}),(0,t.jsx)("li",{children:(0,t.jsxs)(p.A,{target:"_blank",to:(0,l.Ay)("narrow-ai/anomaly-detection/pdfs/BTP AI Best Practices - Anomaly Detection.pdf"),children:[(0,t.jsx)(d.A,{name:"pdf-attachment"}),(0,t.jsx)("span",{children:"Webinar (PDF Presentation)"})]})})]})]})})]})}),"\n",(0,t.jsx)(c.A,{renderOnlyWhenLoggedIn:!0,children:(0,t.jsx)(h.A,{href:"https://github.com/SAP-samples/sap-btp-ai-best-practices/tree/main/best-practices/narrow-ai/anomaly-detection",className:"button button--primary button--lg download-source-btn",target:"_blank",trackingFeature:"DOWNLOAD_ANOMALY_DETECTION",children:(0,t.jsx)("span",{children:"Download Source Code"})})}),"\n",(0,t.jsxs)(n.h2,{id:"1-overview",children:[(0,t.jsx)("span",{className:"step-number",children:"1"})," ",(0,t.jsx)("span",{className:"step-title",children:"Overview"})]}),"\n",(0,t.jsx)(n.h3,{id:"description",children:"Description"}),"\n",(0,t.jsxs)(n.p,{children:["Anomaly detection is the process of ",(0,t.jsx)(n.strong,{children:"identifying data points, events, or patterns that deviate significantly from the expected or normal behavior"})," within a dataset. In the SAP ecosystem, this involves leveraging tools within ",(0,t.jsx)(n.strong,{children:"SAP HANA ML"}),' (PAL, hana-ml) to find data points that "do not follow the collective common pattern of the majority of data points". This practice covers implementing these techniques effectively.']}),"\n",(0,t.jsx)(n.h3,{id:"expected-outcome",children:"Expected Outcome"}),"\n",(0,t.jsxs)(n.p,{children:["To successfully ",(0,t.jsx)(n.strong,{children:"identify and flag unusual behavior or outliers"})," in various types of data (e.g., transactional data, sensor readings, time series, API traffic) residing within or connected to the SAP landscape. This enables proactive responses to potential risks or opportunities."]}),"\n",(0,t.jsxs)(c.A,{children:[(0,t.jsx)(n.h3,{id:"benefits",children:"Benefits"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mitigate Risks:"})," Detect fraud, system failures, security breaches, or compliance violations early."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Optimize Processes:"})," Identify operational inefficiencies, improve data quality, understand unexpected process variations, and enable predictive maintenance."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enhance Decision Making:"})," Gain insights from unexpected deviations, understand emerging trends, and react faster to critical events."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"key-algorithms",children:"Key Algorithms"}),(0,t.jsx)(n.h4,{id:"general-anomaly-detection-functions",children:"General Anomaly Detection Functions"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DBSCAN"})," (Density-Based Spatial Clustering of Applications with Noise) is a density-based clustering algorithm. It groups together points that are closely packed together (having many neighbors within a certain distance) and marks points that lie alone in low-density regions as outliers. It can discover clusters of arbitrary shape and is robust to noise."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Isolation Forest"}),' is an unsupervised anomaly detection algorithm. It works by randomly partitioning the data space and isolating observations. The core idea is that anomalies are "few and different", making them easier to isolate compared to normal points. Points that require fewer random partitions to be isolated are considered more likely to be anomalies and receive a higher anomaly score.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"One-Class Support Vector Machine"}),' (SVM) is an unsupervised algorithm primarily used for novelty or outlier detection. It learns a decision boundary that encompasses the majority of the training data (the "normal" points). New data points falling outside this boundary are classified as anomalies or outliers.',"\n",(0,t.jsx)("br",{}),"\n",'The algorithm aims to find a hyperplane in a high-dimensional feature space (potentially transformed by a kernel function) that separates the data points from the origin with maximum\nmargin. Points lying on the "wrong" side of the hyperplane or too far from it are considered outliers.']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"K-Means clustering"})," can be used as a basis for outlier detection. The core idea is that outliers will typically be far away from the centroids (centers) of the clusters formed by the majority of the data. The function first performs K-Means clustering and then calculates a distance-based score for each point. Points with the highest scores (i.e., farthest from cluster centers, considering the specified distance metric and aggregation method) are flagged as outliers based on a specified contamination fraction or distance threshold."]}),"\n"]}),(0,t.jsx)(n.h4,{id:"timeseries-anomalies-detection-functions",children:"Timeseries Anomalies Detection Functions"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Time series outlier detection"})," identifies data points that deviate significantly from the general pattern of the series. The OutlierDetectionTS algorithm works in two steps:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Residual Extraction:"})," A model (e.g., smoothing, seasonal decomposition) is fitted to the time series, and the residuals (the differences between the actual values and the fitted values) are calculated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Outlier Detection on Residuals:"})," An outlier detection method (like ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Standard_score",children:"z-score"}),", ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Interquartile_range",children:"IQR"}),", ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Median_absolute_deviation",children:"MAD"}),", Isolation Forest, DBSCAN) is applied to the residuals. Points whose residuals have high outlier scores are flagged as anomalies in the original time series."]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.h4,{id:"regression-anomalies-detection-functions",children:"Regression Anomalies Detection Functions"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Outlier Detection Regression"})," identifies data points that deviate significantly from the expected pattern in regression models. The algorithm works in two steps:","\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Residual Extraction:"})," A regression model (either linear or tree-based) is fitted to the data, and residuals (differences between actual and predicted values) are calculated."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Outlier Scoring:"})," Each data point receives an outlier score based on its residual. For linear models, the score is the deleted ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Studentized_residual",children:"studentized residual"}),". For tree models, the score is the ",(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Standard_score",children:"z-score"})," of the residual. Points whose scores exceed a specified threshold are flagged as outliers."]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"This approach recognizes that outliers in regression are points that don't follow the general behavior pattern established by the model, making them distinguishable through their unusually large residuals."}),(0,t.jsxs)(n.h2,{id:"2-pre-requisites",children:[(0,t.jsx)("span",{className:"step-number",children:"2"})," ",(0,t.jsx)("span",{className:"step-title",children:"Pre-requisites"})]}),(0,t.jsx)(n.h3,{id:"supported-sap-hana-versions-and-editions",children:"Supported SAP HANA Versions and Editions"}),(0,t.jsx)(n.p,{children:"HanaML capabilities, including both the Predictive Analysis Library (PAL) and the Automated Predictive Library (APL), are supported on various SAP HANA versions and editions. Key supported platforms include:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SAP HANA Cloud:"})," Fully supported and recommended platform due to easier management of components like PAL and APL. More information on ",(0,t.jsx)(n.a,{href:"/docs/technology/sap-hana-cloud#setup",children:"HANA Cloud and Setup process"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://support.sap.com/en/alm/sap-cloud-alm/operations/expert-portal/setup-managed-services/setup-hana-cloud.html?anchorId=section_2065216453_c#section_copy_copy",children:"Prerequisites"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You need to have access to SAP BTP Cockpit (",(0,t.jsx)(n.a,{href:"/docs/technology/sap-business-technology-platform#setup-guide",children:"Setup Guide"}),")."]}),"\n",(0,t.jsx)(n.li,{children:'Your user in BTP Cockpit needs to be a member with the space role "Space Developer" for the space in which you want to create the SAP HANA Cloud database instance was created'}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SAP HANA express edition:"})," Used for development and testing. ",(0,t.jsx)(n.a,{href:"https://developers.sap.com/group.hxe-install-clients.html",children:"Installation instructions for SAP HANA"})," and ",(0,t.jsx)(n.a,{href:"https://developers.sap.com/tutorials/hxe-ua-install-python-ml-api..html",children:"Installation instructions for Client API"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SAP Datasphere (formerly Data Warehouse Cloud):"})," Supports PAL and API functions, provided underlying ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_DATASPHERE/9f804b8efa8043539289f42f372c4862/287194276a7d4d778ec98fdde5f61335.html",children:"SAP HANA Cloud Script Server"})," is enabled for the tenant"]}),"\n"]}),"\n"]}),(0,t.jsxs)(n.p,{children:["Note, PAL and APL are also available from ",(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/9c87e50e69c744f785f41ec5568b47d8/2.0.04/en-US/SAP_HANA_Machine_Learning_Overview_Guide_en.pdf",children:"SAP HANA Platform 2.0 SPS 04"})," as well as SAP HANA express edition"]}),(0,t.jsx)(n.h3,{id:"required-sap-hana-components",children:"Required SAP HANA Components"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SAP HANA Cloud:"})," PAL and APL are pre-installed within the SAP HANA Cloud environment. During configuration of the database instance, the necessary services need to be enabled and user permissions to be granted"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Predictive Analysis Library (PAL):"})," it provides a wide range of common and specialized native in-database functions for predictive analysis and machine learning in scenarios like classification, regression, time series forecasting, outlier detection, text processing and analysis as well as text embedding"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automated Predictive Library (APL):"})," it provides native in-database functions for creating predictive models in a simplified manner due to the automation of many of the steps."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"required-user-authorizations-and-roles",children:"Required User Authorizations and Roles"}),(0,t.jsx)(n.p,{children:"Executing PAL and APL functions requires specific database privileges. These are granted via predefined roles:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/security-security-253f2b5?locale=en-US",children:"PAL"}),": You must be assigned one of the following roles to execute PAL procedures","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"AFL__SYS_AFL_AFLPAL_EXECUTE"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"AFL__SYS_AFL_AFLPAL_EXECUTE_WITH_GRANT_OPTION"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/apl/419fd47c26b345239fdbb5e476a6bc54/654f4d920c5846b6b56903c7b06b0785.html",children:"APL"}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["SAP HANA Cloud: The database role ",(0,t.jsx)(n.code,{children:"sap.pa.apl.base.roles::APL_EXECUTE"})," is required. This role grants privileges to execute APL stored procedures, access related schemas, and use the APL cache. It should be granted by a database administrator to the APL user"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"General Privileges:"})," Beyond specific PAL/APL roles, users will need standard SQL privileges to access the data tables used as input for the algorithms (e.g., SELECT on relevant schemas/tables) and potentially privileges to create temporary tables or views depending on the workflow (e.g., CREATE TEMPORARY TABLE)."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"summary",children:"Summary"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Prerequisite Category"}),(0,t.jsx)(n.th,{children:"Item"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"SAP HANA Cloud Environment"})}),(0,t.jsx)(n.td,{children:"SAP HANA Cloud, SAP HANA Cloud trial and free-tier"}),(0,t.jsx)(n.td,{children:"See trial / free-tier limitations."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"SAP HANA Cloud Configuration"})}),(0,t.jsx)(n.td,{children:"Enabled services"}),(0,t.jsx)(n.td,{children:"Script Server and NLP services"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"User Authorizations"})}),(0,t.jsx)(n.td,{children:"PAL Execution Role Granted"}),(0,t.jsxs)(n.td,{children:["User needs ",(0,t.jsx)(n.code,{children:"AFL__SYS_AFL_AFLPAL_EXECUTE"})," (Cloud/On-Prem) role."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"APL Execution Role Granted"}),(0,t.jsxs)(n.td,{children:["User needs ",(0,t.jsx)(n.code,{children:"sap.pa.apl.base.roles::APL_EXECUTE"})," (Cloud/On-Prem Procedure) or direct AFL roles."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Data Access Privileges (SELECT)"}),(0,t.jsxs)(n.td,{children:["User needs ",(0,t.jsx)(n.code,{children:"SELECT"})," access on input data tables/views."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"Object Creation Privileges (Optional)"}),(0,t.jsxs)(n.td,{children:["May need ",(0,t.jsx)(n.code,{children:"CREATE TEMPORARY TABLE"})," etc., depending on workflow."]})]})]})]}),(0,t.jsx)(n.h3,{id:"high-level-reference-architecture",children:"High-level Reference Architecture"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"High-level Reference Architecture",src:i(2491).A+"",width:"1600",height:"748"})}),(0,t.jsx)(n.h3,{id:"calling-pal-and-apl-functions",children:"Calling PAL and APL Functions"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"PAL functions can be called through the SQL interface or using the Python or R Machine Learning clients (hana-ml)."}),"\n",(0,t.jsx)(n.li,{children:"APL functions can be called through the SQL interface or using the Python Machine Learning client (hana-ml)."}),"\n",(0,t.jsxs)(n.li,{children:["The Natural Language Processing functions for Text Analysis, Named Entity Recognition or Part of Speech tagging can be called via PAL functions. In addition, the Text Embedding function can be called via PAL functions as well as the SQL function ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-vector-engine-guide/creating-text-embeddings-in-sap-hana-cloud",children:"VECTOR_EMBEDDING()"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Both PAL and APL functions can be called out of the box in the HANA Cloud Database Core Container, or as part of the HANA Cloud Elastic Compute Nodes."}),"\n",(0,t.jsx)(n.li,{children:"SAP BTP Applications can embed use of PAL or APL functions as part of standard SQLScript design-time artifacts, e.g. multi-target or full-stack CAP applications. Furthermore, usage of PAL and APL functions may also be utilized via applications leveraging Python runtimes and scripts using the Python Machine Learning client (hana-ml)"}),"\n"]}),(0,t.jsxs)(n.h2,{id:"3-key-choices-and-guidelines",children:[(0,t.jsx)("span",{className:"step-number",children:"3"})," ",(0,t.jsx)("span",{className:"step-title",children:"Key Choices and Guidelines"})]}),(0,t.jsx)(n.p,{children:"Implementing anomaly detection effectively involves several key decisions and adherence to best practices:"}),(0,t.jsx)(n.h3,{id:"understand-your-data-and-anomaly-type",children:"Understand Your Data and Anomaly Type"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:'Define "Anomaly":'})," Clearly specify what constitutes an anomaly in your business context. Is it a point, contextual, or collective anomaly?"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Analyze Data:"})," Understand data characteristics (time series, high-dimensional, source, volume) to guide algorithm selection."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"leverage-in-database-detection-when-possible",children:"Leverage In-Database Detection When Possible"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prioritize HANA ML:"})," If your data resides in SAP HANA (Cloud/on-premise) or SAP Datasphere, using hana-ml is generally the most efficient approach due to minimized data movement and optimized performance."]}),"\n"]}),(0,t.jsx)(n.h3,{id:"algorithm-selection",children:"Algorithm Selection"}),(0,t.jsx)(n.h4,{id:"general-anomaly-detection-functions-1",children:"General Anomaly Detection Functions"}),(0,t.jsx)(n.h5,{id:"dbscan",children:"DBSCAN"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When it excels"}),(0,t.jsx)(n.th,{children:"Why"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Irregular, non-convex shapes"})," in the \u201cnormal\u201d data"]}),(0,t.jsx)(n.td,{children:"Density connectivity is shape-agnostic; no centroid assumption"}),(0,t.jsx)(n.td,{children:"To detect illegal fishing, vessel GPS pings are analyzed: clusters of pings typically follow winding, coast-hugging routes, while those that appear outside designated zones are flagged as suspicious"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Varying cluster sizes/densities"})," where noise should be labeled explicitly"]}),(0,t.jsxs)(n.td,{children:["Points with < ",(0,t.jsx)(n.code,{children:"minPts"})," neighbors inside \u03b5 are automatically \u201cnoise\u201d\u2014no extra threshold tuning"]}),(0,t.jsx)(n.td,{children:"For quality control on semiconductor wafers, pixel-level defect maps often show dense clusters of similar defects, while isolated hot pixels are treated as noise by the DBSCAN algorithm"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Low/medium-dimensional data"})," (\u2264 20 dims) with a ",(0,t.jsx)(n.em,{children:"meaningful distance metric"})]}),(0,t.jsx)(n.td,{children:"\u03b5 radius grows counter-intuitively in very high-dimensional spaces"}),(0,t.jsx)(n.td,{children:"Spatial point patterns, image coordinates, RFID-tag positions, etc."})]})]})]}),(0,t.jsx)(n.h5,{id:"isolation-forest",children:"Isolation Forest"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When it excels"}),(0,t.jsx)(n.th,{children:"Why"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"For High-Dimensional Data Sets"})," (10 \u2013 hundreds of features)"]}),(0,t.jsx)(n.td,{children:'Isolation Forest works well because it splits data along random axes. This approach avoids the "curse of dimensionality" problem that affects distance-based methods.'}),(0,t.jsx)(n.td,{children:"Detecting credit card fraud in real-time, where you might analyze hundreds of variables including merchant information, device data, transaction amounts, and customer behavior patterns"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"For Large Data Sets"})," (10\u2075 \u2013 10\u2076+ rows)"]}),(0,t.jsx)(n.td,{children:"Isolation Forest is efficient because it operates in O(n log n) time. Can even sample down to just 256 trees without losing much accuracy"}),(0,t.jsx)(n.td,{children:"Analyzing web server logs to find anomalies across gigabytes of hourly request records, Isolation Forest provides both speed and accuracy"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Detecting Isolated Anomalies"})}),(0,t.jsx)(n.td,{children:"When anomalies are rare but spread throughout your data (not clustered together), Isolation Forest excels by creating short isolation paths to identify individual outlier points, even when they appear alone in the feature space"}),(0,t.jsx)(n.td,{children:"Predictive maintenance of machinery, when looking for rare combinations of vibration frequencies and temperatures that indicate potential failures"})]})]})]}),(0,t.jsx)(n.h5,{id:"one-class-svm",children:"One-Class SVM"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When it excels"}),(0,t.jsx)(n.th,{children:"Why"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"For Abundant Normal Data with Few Anomalies"})," (pure novelty detection)"]}),(0,t.jsx)(n.td,{children:"When you have plenty of \u201cnormal\u201d data but almost no labeled anomalies, One-Class SVM works well because it learns the boundary of normal behavior"}),(0,t.jsx)(n.td,{children:"Network intrusion detection where you can train on months of clean traffic data to later identify novel exploit patterns"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"For Moderate-Sized, Complex Data Sets"})," (up to ~50k samples, 10\xb2\u201310\xb3 dims) where kernel methods add value"]}),(0,t.jsx)(n.td,{children:"One-Class SVM with RBF or polynomial kernels creates effective non-linear boundaries, though computational costs increase approximately with O(n\xb2)"}),(0,t.jsx)(n.td,{children:"Distinguishing subtle differences in manufactured lens characteristics where the decision boundary between normal and abnormal is complex"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"When Theoretical Soundness Matters"})}),(0,t.jsx)(n.td,{children:"One-Class SVM provides the same margin-maximizing approach as standard SVMs. This creates interpretable support vectors you can examine"}),(0,t.jsx)(n.td,{children:"In medical imaging, this helps clinicians understand which \u201cnormal\u201d images lie on the boundary between normal and abnormal classifications"})]})]})]}),(0,t.jsx)(n.h5,{id:"kmeansbased-outlier-scoring",children:"K\u2011Means\u2011Based Outlier Scoring"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When it excels"}),(0,t.jsx)(n.th,{children:"Why"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Well-Formed, Evenly Sized Clusters"})}),(0,t.jsx)(n.td,{children:"When your data naturally forms compact, convex, and similarly sized groups, K-Means-Based Outlier Scoring works effectively because the distance to cluster centroids accurately represents how typical a data point is"}),(0,t.jsx)(n.td,{children:"In customer segmentation, this approach excels at identifying rare \u201cwhale\u201d customers who stand out due to their unusual purchase frequency and spending patterns that position them far from any cluster center"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"When K is Known in Advance"})," (business-defined segments, product tiers) and want a ",(0,t.jsx)(n.em,{children:"fast"})," baseline"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/K-means_clustering#:~:text=Lloyd%27s%20algorithm%20is%20therefore%20often%2csuperpolynomial%20when%20performed%20until%20convergence.&text=iterations%2c%20so%20that%20the%20worst%2cof%20Lloyd%27s%20algorithm%20is%20superpolynomial",children:"Lloyd\u2019s algorithm"})," runs in O(n\u202fk\u202fd\u202fi) time complexity and can be easily parallelized for faster processing"]}),(0,t.jsx)(n.td,{children:"IoT sensor monitoring where devices are grouped by type (K = the number of device families) to efficiently flag units producing measurements outside normal parameters"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"When Explanation Clarity Matters"})," \u2014 K-Means excels because distance to a centroid provides an intuitive explanation format"]}),(0,t.jsx)(n.td,{children:"You can clearly communicate that \u201cthis reading is an outlier because it is 3 times farther from its assigned cluster center than 95% of points.\u201d"}),(0,t.jsx)(n.td,{children:"Call center metrics analysis, where agent performance data typically forms tiers, and outliers may indicate agents requiring additional coaching"})]})]})]}),(0,t.jsx)(n.h4,{id:"quick-decision-checklist",children:"Quick decision checklist"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Irregular shapes / density gaps \u2192 ",(0,t.jsx)(n.strong,{children:"DBSCAN"})]}),"\n",(0,t.jsxs)(n.li,{children:["Huge, high\u2011D, unlabeled tabular data \u2192 ",(0,t.jsx)(n.strong,{children:"Isolation Forest"})]}),"\n",(0,t.jsxs)(n.li,{children:["Normal\u2011only training set + curved boundary \u2192 ",(0,t.jsx)(n.strong,{children:"One\u2011Class SVM"})]}),"\n",(0,t.jsxs)(n.li,{children:["Compact globular clusters + need for speed/simple explanation \u2192 ",(0,t.jsx)(n.strong,{children:"K\u2011Means distance"})]}),"\n"]}),(0,t.jsx)(n.h3,{id:"timeseries-anomalies-detection",children:"Timeseries Anomalies Detection"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When OutlierDetectionTS really shines"}),(0,t.jsx)(n.th,{children:"Why the function is a particularly good fit"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Pronounced trend + strong seasonality"})," (daily traffic, weekly sales, power-load curves)"]}),(0,t.jsx)(n.td,{children:"Built-in seasonal decomposition can strip the cyclical component before scoring the residual, preventing every Christmas spike from being flagged."}),(0,t.jsxs)(n.td,{children:["For retail demand analysis with 7-day cycles, set ",(0,t.jsx)(n.code,{children:"detect_seasonality = TRUE"})," with ",(0,t.jsx)(n.code,{children:"default window.size = 1"})," and the ",(0,t.jsx)(n.code,{children:"z1"})," outlier method for fast processing."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Steady Sensors with Occasional Sharp Spikes"})}),(0,t.jsx)(n.td,{children:"When monitoring sensors with generally smooth readings that experience rare, sudden glitches, a simple median filter with a sliding window effectively isolates one-off spikes while ignoring gradual drift."}),(0,t.jsxs)(n.td,{children:["Temperature monitoring in cold-chain logistics, where a freezer door left open creates a distinctive spike. Use ",(0,t.jsx)(n.code,{children:"detect_seasonality = FALSE"})," with ",(0,t.jsx)(n.code,{children:"window.size = 5"})," and ",(0,t.jsx)(n.code,{children:'outlier.method="mad"'})," for enhanced robustness."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Non-Seasonal but Variable Trend Data"})}),(0,t.jsx)(n.td,{children:"When analyzing data without seasonal patterns but with curved trends, manual LOESS or advanced smoothing techniques help identify genuine anomalies by following the natural curve, making true deviations more apparent."}),(0,t.jsxs)(n.td,{children:["Cryptocurrency price minute-by-minute analysis, where settings like ",(0,t.jsx)(n.code,{children:"auto = FALSE"}),", ",(0,t.jsx)(n.code,{children:'smooth_method="loess"'}),", ",(0,t.jsx)(n.code,{children:"loess_lag = 9"}),", ",(0,t.jsx)(n.code,{children:"current_value_flag = TRUE"}),", and ",(0,t.jsx)(n.code,{children:'outlier.method="iqr"'})," help distinguish flash-crashes from normal price movements."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For High-Noise, High-Volume Systems"})}),(0,t.jsx)(n.td,{children:"When dealing with high-volume telemetry data where residuals follow non-Gaussian distributions, Isolation-Forest scoring on residuals effectively handles heavy-tailed or multimodal error distributions across millions of data points."}),(0,t.jsxs)(n.td,{children:["Real-time credit card authorization latency monitoring, where intermittent latency surges may indicate network issues (using ",(0,t.jsx)(n.code,{children:'outlier.method="isolationforest"'})," with tuned ",(0,t.jsx)(n.code,{children:"n_estimators"})," and ",(0,t.jsx)(n.code,{children:"contamination"})," parameters)."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Clustered Anomaly Events"})}),(0,t.jsx)(n.td,{children:"DBSCAN applied to residuals can effectively flag unusual clusters or bursts."}),(0,t.jsxs)(n.td,{children:["Social media sentiment analysis where coordinated negative campaigns create dense clusters of unusual activity (using ",(0,t.jsx)(n.code,{children:'outlier.method="dbscan"'})," with ",(0,t.jsx)(n.code,{children:"eps=0.4"})," and ",(0,t.jsx)(n.code,{children:"minpts=3"}),")."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"For Intermittent Demand Patterns"})}),(0,t.jsxs)(n.td,{children:["When analyzing \u201clumpy\u201d demand series with many zeros interrupted by bursts of activity, the ",(0,t.jsx)(n.code,{children:"detect_intermittent_ts=TRUE"})," parameter prevents false positives by skipping anomaly detection during zero-value periods."]}),(0,t.jsxs)(n.td,{children:["Spare parts inventory management where 90% of days show zero sales but restock orders arrive in clusters. Use ",(0,t.jsx)(n.code,{children:"detect_intermittent_ts=TRUE"}),"."]})]})]})]}),(0,t.jsx)(n.h4,{id:"quick-decision-checklist-1",children:"Quick decision checklist"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Does the series have a repeating calendar pattern?"})," \u2192 Turn on detect_seasonality (or leave auto=TRUE) and let periodicities be removed before scoring."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Is it smooth except for occasional single\u2011point jolts?"})," \u2192 Median filter residual (window.size \u2265 3) plus a simple Z\u2011 or MAD\u2011score."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Is the trend itself curvy or non\u2011linear?"}),' \u2192 Use LOESS or super\u2011smoother (auto=FALSE, smooth_method="loess"/"super").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Residuals look heavy\u2011tailed or you expect very few but extreme anomalies?"}),' \u2192 Isolation Forest (outlier.method="isolationforest").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You care about clusters of unusual behaviour (bursts, events)?"}),' \u2192 DBSCAN (outlier.method="dbscan").']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data is sparse/intermittent (lots of zeros)?"})," \u2192 Set detect_intermittent_ts=TRUE; consider aggregating first if you still need detection."]}),"\n"]}),(0,t.jsx)(n.h4,{id:"regression-model-outlier-detection",children:"Regression Model Outlier Detection"}),(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"When OutlierDetectionRegression really shines"}),(0,t.jsx)(n.th,{children:"Why the function is a particularly good fit"}),(0,t.jsx)(n.th,{children:"Concrete example"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Linear relationships with measurement errors"})," (quality control, manufacturing specs)"]}),(0,t.jsx)(n.td,{children:"Linear model with deleted studentized residuals effectively identifies points that deviate from expected linear relationships while accounting for leverage and influence"}),(0,t.jsxs)(n.td,{children:["Manufacturing quality control where product dimensions should follow linear specs based on machine settings, use ",(0,t.jsx)(n.code,{children:'regression_model="linear"'})," with ",(0,t.jsx)(n.code,{children:"threshold=3.0"})," to flag defective products"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"Complex non-linear patterns with outliers"})," (pricing models, risk assessment)"]}),(0,t.jsx)(n.td,{children:"Tree-based model captures non-linear relationships and uses z-scores of residuals to identify anomalies in complex feature interactions"}),(0,t.jsxs)(n.td,{children:["Real estate pricing where property values depend non-linearly on multiple features, use ",(0,t.jsx)(n.code,{children:'regression_model="tree"'}),", ",(0,t.jsx)(n.code,{children:"iter_num=15"}),", ",(0,t.jsx)(n.code,{children:"max_depth=8"})," to detect mispriced properties or data errors"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.strong,{children:"High-leverage point detection"})," (financial modeling, experimental design)"]}),(0,t.jsx)(n.td,{children:"Deleted studentized residuals in linear model specifically designed to detect influential observations that could skew regression coefficients"}),(0,t.jsxs)(n.td,{children:["Investment portfolio analysis where a single large position could distort risk models, use ",(0,t.jsx)(n.code,{children:'regression_model="linear"'})," with ",(0,t.jsx)(n.code,{children:"threshold=2.5"})," for sensitive leverage detection"]})]})]})]}),(0,t.jsx)(n.h3,{id:"data-preparation-and-model-evaluation",children:"Data Preparation and Model Evaluation"}),(0,t.jsx)(n.p,{children:"The success of any machine learning model is fundamentally dependent on two core processes: rigorous data preparation and comprehensive model evaluation. These steps ensure the data is clean and relevant and that the model's performance is accurately measured against the right metrics."}),(0,t.jsxs)(n.p,{children:["For a detailed guide on the methodologies, key metrics, and best practices for preparing your data and evaluating model performance across different ML tasks, please refer to our unified ",(0,t.jsx)(n.a,{href:"/docs/technical-view/narrow-ai/data-preparation-and-model-evaluation",children:"Data Preparation and Model Evaluation"})," page."]}),(0,t.jsxs)(n.h2,{id:"4-implementation",children:[(0,t.jsx)("span",{className:"step-number",children:"4"})," ",(0,t.jsx)("span",{className:"step-title",children:"Implementation"})]}),(0,t.jsx)(n.p,{children:"When developing regression models with SAP tools and libraries, the choice of your application's runtime dictates the relevant information. Different approaches can be used to embed the anomaly detection scenario artifacts."}),(0,t.jsx)(n.h3,{id:"programming-model-selection-guidelines",children:"Programming Model Selection Guidelines"}),(0,t.jsx)(n.p,{children:"When developing linear regression scenarios with SAP HANA\u2019s Predictive Analysis Library (PAL), consider the following guidelines:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recommended Approach (Data Science Workflows):"})," Utilize the Python hana-ml library for a streamlined, intuitive experience aligned with standard data science practices, including convenient data manipulation and integration with machine learning workflows. This approach yields best productivity during ML model experimentation until the final model of choice and parameterization has been determined."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Alternative Approaches:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"SQLScript database procedures and table functions"})," are the typical ",(0,t.jsx)(n.strong,{children:"HANA design-time artifacts"})," for embedding and invoking PAL and APL procedures into BTP CAP or XSA full-stack applications. Artifact generations from the hana-ml machine learning client in Python is supported."]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"The final choice should align with your team\u2019s expertise and project requirements."}),(0,t.jsx)("div",{className:"tabs-with-background",children:(0,t.jsxs)(o.A,{groupId:"language",children:[(0,t.jsxs)(r.A,{value:"python",label:"Python",default:!0,children:[(0,t.jsx)(h.A,{href:"https://github.com/SAP-samples/sap-btp-ai-best-practices/tree/main/best-practices/narrow-ai/anomaly-detection/python",className:"button button--primary button--lg download-source-btn--tab",target:"_blank",trackingFeature:"DOWNLOAD_ANOMALY_DETECTION",children:(0,t.jsx)("span",{children:"Download Source Code"})}),(0,t.jsx)(n.h3,{id:"recommended",children:"Recommended"}),(0,t.jsxs)(n.p,{children:["Use the ",(0,t.jsx)(n.strong,{children:"hana-ml"})," library for interacting with SAP HANA PAL and APL algorithms directly from Python."]}),(0,t.jsx)(n.h3,{id:"sdks",children:"SDKs"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/latest/en-US/hana_ml.html",children:"hana-ml"})}),"\n"]}),(0,t.jsx)(n.h3,{id:"tutorials-and-learning-journeys",children:"Tutorials and Learning Journeys"}),(0,t.jsx)(n.p,{children:"SAP Community Blogs:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Recommended"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-sap/learning-from-labeled-anomalies-for-efficient-anomaly-detection-using/ba-p/13485567",children:"Learning from Labeled Anomalies for Efficient Anomaly Detection using Python Machine Learning Client for SAP HANA"}),": Presents a ",(0,t.jsx)(n.strong,{children:"supervised"})," approach to anomaly detection using a ",(0,t.jsx)(n.strong,{children:"decision tree"})," classifier. In this tutorial, a dataset with known (labeled) anomalies is analyzed. The decision tree model is trained to distinguish normal vs. anomalous instances."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-sap/outlier-detection-with-one-class-classification-using-python-machine/ba-p/13481696",children:"Outlier Detection with One-class Classification using Python Machine Learning Client for SAP HANA"}),": Covers one-class classification for anomaly detection using the ",(0,t.jsx)(n.strong,{children:"One-Class SVM"})," algorithm in SAP HANA\u2019s PAL (accessed via hana-ml)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Other sources"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-sap/outlier-detection-by-clustering-using-python-machine-learning-client-for/ba-p/13469349",children:"Outlier Detection by Clustering using Python Machine Learning Client for SAP HANA"}),": Demonstrates outlier detection via ",(0,t.jsx)(n.strong,{children:"clustering algorithms"}),". In this tutorial, the SAP HANA PAL implementation of ",(0,t.jsx)(n.strong,{children:"DBSCAN"})," is used (through hana-ml) to group data and identify noise points as anomalies."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-sap/anomaly-detection-in-time-series-using-seasonal-decomposition-in-python/ba-p/13474482",children:"Anomaly Detection in Time-Series using Seasonal Decomposition in Python Machine Learning Client for SAP HANA"}),": Explains how to detect anomalies in ",(0,t.jsx)(n.strong,{children:"time-series"})," data using the ",(0,t.jsx)(n.strong,{children:"seasonal decomposition"})," algorithm available in SAP HANA PAL (through hana-ml). This guide shows how the time series is decomposed into trend/seasonal components and residuals, then applies outlier detection on the residuals"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blogs-by-members/detecting-contextual-anomalies-with-sap-hana-ml/ba-p/13502937",children:"Detecting Contextual Anomalies with SAP HANA ML"}),": Shows how to detect ",(0,t.jsx)(n.strong,{children:"contextual anomalies"})," in time-series data using SAP HANA\u2019s Python ML client"]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"SAP Developer Tutorials:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://developers.sap.com/group.ai-core-get-started-basics.html",children:"Predictive AI with SAP AI Core (General AI Core usage)"})}),"\n"]}),(0,t.jsx)(n.h3,{id:"reference-code",children:"Reference Code"}),(0,t.jsx)(n.h4,{id:"recommended-1",children:"Recommended"}),(0,t.jsx)("ul",{children:(0,t.jsx)("li",{children:(0,t.jsx)("strong",{children:(0,t.jsx)(h.A,{href:"https://github.com/SAP-samples/sap-btp-ai-best-practices/tree/main/best-practices/narrow-ai/anomaly-detection/python",target:"_blank",trackingFeature:"DOWNLOAD_ANOMALY_DETECTION",children:(0,t.jsx)("span",{children:"SAP BTP AI Best Practices - Sample Code"})})})})}),(0,t.jsx)(n.h4,{id:"relevant-code",children:"Relevant Code"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.08/en-US/pal/algorithms/hana_ml.algorithms.pal.clustering.DBSCAN.html",children:"DBSCAN"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hana_ml.algorithms.pal.clustering import DBSCAN\n\u200b\n# --- Training the DBSCAN Model ---\ndbscan = DBSCAN(\n    minpts=None, # Let PAL determine\n    eps=None,    # Let PAL determine\n    thread_ratio=1\n)\n\u200b\nprint("\\nTraining the DBSCAN model...")\ndbscan.fit(data=hdf_input, key=KEY_COL, features=feature_cols)\n# --- Predicting Anomalies ---\nprint("\\nPredicting anomalies using the trained DBSCAN model...")\nresults_hdf = dbscan.predict(\n  data=hdf_input,\n  key=KEY_COL,\n  features=feature_cols\n)\nprint("Prediction completed.")\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.08/en-US/pal/algorithms/hana_ml.algorithms.pal.preprocessing.IsolationForest.html#hana_ml.algorithms.pal.preprocessing.IsolationForest",children:"Isolation Forest"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hana_ml.algorithms.pal.preprocessing import IsolationForest\n\u200b\n# --- Training the Isolation Forest Model ---\niforest = IsolationForest(\n    n_estimators=None,   # let PAL pick the number of trees\n    max_samples=None,    # let PAL pick samples per tree\n    thread_ratio=1       # let PAL decide on compute threads\n)\n\u200b\nprint("\\nTraining the Isolation Forest model...")\niforest.fit(\n    data=hdf_input,\n    key=KEY_COL,\n    features=feature_cols\n)\n\u200b\n# --- Predicting Anomalies ---\nprint("\\nPredicting anomalies using the trained Isolation Forest model...")\nresults_hdf = iforest.predict(\n    data=hdf_input,\n    key=KEY_COL,\n    features=feature_cols\n)\nprint("Prediction completed.")\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.08/en-US/pal/algorithms/hana_ml.algorithms.pal.svm.OneClassSVM.html#hana_ml.algorithms.pal.svm.OneClassSVM",children:"One Class SVM"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hana_ml.algorithms.pal.svm import OneClassSVM\n\u200b\n# --- Training the One-Class SVM Model ---\nocsvm = OneClassSVM(\n    c=None,            # let PAL use its default trade-off\n    nu=None,           # let PAL choose the nu parameter\n    gamma=None,        # let PAL pick the kernel coefficient\n    thread_ratio=1     # single PAL thread group\n)\n\u200b\nprint("\\nTraining the One-Class SVM model...")\nocsvm.fit(\n    data=hdf_input,\n    key=KEY_COL,\n    features=feature_cols\n)\n\u200b\n# --- Predicting Anomalies ---\nprint("\\nPredicting anomalies using the trained One-Class SVM model...")\nresults_hdf = ocsvm.predict(\n    data=hdf_input,\n    key=KEY_COL,\n    features=feature_cols\n)\nprint("Prediction completed.")\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/1d0ebfe5e8dd44d09606814d83308d4b/2.0.08/en-US/pal/algorithms/hana_ml.algorithms.pal.clustering.outlier_detection_kmeans.html#hana_ml.algorithms.pal.clustering.outlier_detection_kmeans",children:"Outlier Detection KMeans"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hana_ml.algorithms.pal.clustering import outlier_detection_kmeans\n\u200b\n# --- Detecting Outliers via K-Means ---\nprint("\\nDetecting outliers using K-Means clustering...")\noutliers_hdf, stats_hdf, centers_hdf = outlier_detection_kmeans(\n    data=hdf_input,\n    key=KEY_COL,\n    features=feature_cols,\n    n_clusters=None,         # let PAL determine number of clusters\n    distance_level=None,     # let PAL use default distance metric\n    contamination=None,      # let PAL pick the outlier proportion\n    init=None,               # let PAL use its default init method\n    max_iter=None,           # let PAL choose its default iteration cap\n    normalization=None,      # let PAL decide on normalization\n    tol=None,                # let PAL set its convergence threshold\n    distance_threshold=None, # let PAL pick the threshold\n    thread_number=1          # single PAL thread\n)\nprint("Outlier detection completed.")\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/doc/b64d3cac2f0b42be9ca9fc662715f36b/2024_2_QRC/en-US/reference/hanaml.OutlierDetectionTS.html",children:"Temporal Series Outlier Detection"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from hana_ml.algorithms.pal.timeseries import outlier_detection_ts\n\u200b\n# --- Detecting Outliers in Time Series Data ---\nprint("\\nDetecting outliers in time series...")\nresults_hdf = outlier_detection_ts(\n    data=hdf_input,\n    key=KEY_COL,\n    ts=TIME_COL,           # your timestamp column\n    freq=None,             # let PAL infer seasonal frequency\n    method=None,           # let PAL pick its outlier\u2010detection method\n    contamination=None,    # let PAL estimate the proportion of outliers\n    alpha=None,            # let PAL choose its significance level\n    seasonal=None,         # let PAL infer any seasonality parameter\n    thread_number=1        # single PAL thread\n)\nprint("Time\u2010series outlier detection completed.")\n'})})]}),(0,t.jsxs)(r.A,{value:"sql",label:"SQL",children:[(0,t.jsx)(n.h3,{id:"reference-information",children:"Reference Information"}),(0,t.jsx)(n.p,{children:"SAP HANA's Predictive Analysis Library (PAL) algorithms can be directly invoked through SQLScript. This approach is beneficial for:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance Optimization:"})," Minimizes data movement by executing directly within the database."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Integration:"})," Allows embedding ML logic within database procedures, views, or calculation views for seamless integration with existing SAP HANA applications."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Governance:"})," Provides a standardized approach within existing database governance frameworks."]}),"\n"]}),(0,t.jsx)(n.p,{children:"When implementing with SQLScript, you'll typically:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Create parameter tables with algorithm-specific settings."}),"\n",(0,t.jsx)(n.li,{children:"Prepare input data in the required format."}),"\n",(0,t.jsx)(n.li,{children:"Call the PAL procedure."}),"\n",(0,t.jsx)(n.li,{children:"Process the resulting output tables."}),"\n"]}),(0,t.jsx)(n.h3,{id:"sdks-1",children:"SDKs"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/sap-hana-cloud-sap-hana-database-predictive-analysis-library-pal",children:"SAP HANA Predictive Analysis Library (PAL)"})}),"\n"]}),(0,t.jsx)(n.h3,{id:"tutorials-and-learning-journeys-1",children:"Tutorials and Learning Journeys"}),(0,t.jsx)(n.p,{children:"SAP Community Blogs:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-sap/sap-hana-pal-quick-start/ba-p/13084367",children:"SAP HANA PAL Quick Start"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://community.sap.com/t5/technology-blog-posts-by-members/sap-hana-pal-k-means-algorithm-or-how-to-do-customer-segmentation-for-the/ba-p/12976696",children:"SAP HANA PAL \u2013 K-Means Algorithm or How to do Customer Segmentation for the Telecommunications Industry"})}),"\n"]}),(0,t.jsx)(n.p,{children:"The following links point to the relevant SAP HANA PAL documentation for the SQLScript procedures:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"DBSCAN:"})," ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_HANA_PLATFORM/319d36de4fd64ac3afbf91b1fb3ce8de/dbscan-b2c5511.html",children:"PAL DBSCAN"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Isolation Forest:"})," ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library-pal/isolation-forest-isolation-forest-11345d9",children:"PAL Isolation Forest Documentation"})," (Covers PAL_ISOLATION_FOREST for training and PAL_ISOLATION_FOREST_PREDICT for prediction)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"One-Class SVM:"})," ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_HANA_PLATFORM/2cfbc5cf2bc14f028cfbe2a2bba60a50/901a10d65c3d4c0d8f161b9245172576.html",children:"PAL SVM Documentation"})," (The PAL_SVM procedure is used with TYPE parameter set to 4 for One-Class SVM)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Outlier Detection KMeans:"})," ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/anomaly-detection?locale=en-US&q=Outlier+Detection+Kmeans",children:"PAL Anomaly Detection Documentation"})," (The PAL_ANOMALY_DETECTION procedure uses K-Means internally)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Temporal Series Outlier Detection:"})," ",(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library-pal/outlier-detection-outlier-detection-17253b4",children:"PAL Outlier Detection Documentation"})," (The PAL_OUTLIER_DETECTION_FOR_TIME_SERIES or PAL_MASSIVE_OUTLIER_DETECTION_FOR_TIME_SERIES procedure is used)"]}),"\n"]}),(0,t.jsx)(n.h3,{id:"reference-code-1",children:"Reference Code"}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_HANA_PLATFORM/319d36de4fd64ac3afbf91b1fb3ce8de/dbscan-b2c5511.html",children:"DBSCAN"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"\nSET SCHEMA DM_PAL;\n\u200b\nDROP TABLE PAL_DBSCAN_DATA_TBL;\nCREATE COLUMN TABLE PAL_DBSCAN_DATA_TBL (\n    \"ID\" INTEGER,\n    \"V1\" DOUBLE,\n    \"V2\" DOUBLE,\n    \"V3\" VARCHAR(10)\n);\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(1, 0.10, 0.10, 'B');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(2, 0.11, 0.10, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(3, 0.10, 0.11, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(4, 0.11, 0.11, 'B');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(5, 0.12, 0.11, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(6, 0.11, 0.12, 'E');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(7, 0.12, 0.12, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(8, 0.12, 0.13, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(9, 0.13, 0.12, 'D');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(10, 0.13, 0.13, 'D');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(11, 0.13, 0.14, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(12, 0.14, 0.13, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(13, 10.10, 10.10, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(14, 10.11, 10.10, 'F');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(15, 10.10, 10.11, 'E');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(16, 10.11, 10.11, 'E');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(17, 10.11, 10.12, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(18, 10.12, 10.11, 'B');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(19, 10.12, 10.12, 'B');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(20, 10.12, 10.13, 'D');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(21, 10.13, 10.12, 'F');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(22, 10.13, 10.13, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(23, 10.13, 10.14, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(24, 10.14, 10.13, 'D');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(25, 4.10, 4.10, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(26, 7.11, 7.10, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(27, -3.10, -3.11, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(28, 16.11, 16.11, 'A');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(29, 20.11, 20.12, 'C');\nINSERT INTO PAL_DBSCAN_DATA_TBL VALUES(30, 15.12, 15.11, 'A');\n\u200b\nDROP TABLE #PAL_PARAMETER_TBL;\nCREATE LOCAL TEMPORARY COLUMN TABLE #PAL_PARAMETER_TBL (\n    \"PARAM_NAME\" VARCHAR(100),\n    \"INT_VALUE\" INTEGER,\n    \"DOUBLE_VALUE\" DOUBLE,\n    \"STRIN_VALUE\" VARCHAR(100)\n);\n\u200b\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('THREAD_RATIO', NULL, 0.2, NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('AUTO_PARAM', NULL, NULL, 'true');\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('DISTANCE_METHOD', 1, NULL, NULL);\n\u200b\nCALL _SYS_AFL.PAL_DBSCAN (PAL_DBSCAN_DATA_TBL, \"#PAL_PARAMETER_TBL\", ?, ?, ?, ?);\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library-pal/isolation-forest-isolation-forest-11345d9",children:"Isolation Forest"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'SET SCHEMA DM_PAL;\n\u200b\nDROP TABLE PAL_IF_DATA_TBL;\nCREATE COLUMN TABLE PAL_IF_DATA_TBL (\n    "X1" DOUBLE,\n    "X2" DOUBLE\n);\nINSERT INTO PAL_IF_DATA_TBL VALUES (-2, -1);\nINSERT INTO PAL_IF_DATA_TBL VALUES (-1, -1);\nINSERT INTO PAL_IF_DATA_TBL VALUES (-1, -2);\nINSERT INTO PAL_IF_DATA_TBL VALUES (1, 1);\nINSERT INTO PAL_IF_DATA_TBL VALUES (1, 2);\nINSERT INTO PAL_IF_DATA_TBL VALUES (2, 1);\nINSERT INTO PAL_IF_DATA_TBL VALUES (6, 3);\nINSERT INTO PAL_IF_DATA_TBL VALUES (-4, 7);\n\u200b\nDROP TABLE PAL_IF_PARAMETER_TBL;\nCREATE COLUMN TABLE PAL_IF_PARAMETER_TBL (\n        "PARAM_NAME" VARCHAR(256),\n        "INT_VALUE" INTEGER,\n        "DOUBLE_VALUE" DOUBLE,\n        "STRING_VALUE" VARCHAR(100)\n);\nINSERT INTO PAL_IF_PARAMETER_TBL VALUES (\'THREAD_RATIO\', NULL, 0, NULL);\nINSERT INTO PAL_IF_PARAMETER_TBL VALUES (\'SEED\', 2, NULL, NULL);\n\u200b\nDROP TABLE PAL_IF_MODEL_TBL;\nCREATE COLUMN TABLE PAL_IF_MODEL_TBL ("TREE_INDEX" INTEGER, "MODEL_CONTENT" NCLOB);\n\u200b\nDO BEGIN\n  lt_data = SELECT * FROM PAL_IF_DATA_TBL;\n  lt_param = SELECT * FROM PAL_IF_PARAMETER_TBL;\n  CALL _SYS_AFL.PAL_ISOLATION_FOREST (:lt_data, :lt_param, lt_model);\n  INSERT INTO PAL_IF_MODEL_TBL SELECT * FROM :lt_model;\nEND;\n\u200b\nSELECT * FROM PAL_IF_MODEL_TBL;\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/SAP_HANA_PLATFORM/2cfbc5cf2bc14f028cfbe2a2bba60a50/901a10d65c3d4c0d8f161b9245172576.html",children:"One Class SVM"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SET SCHEMA DM_PAL;\n\u200b\nDROP TABLE PAL_SVM_DATA_TBL;\nCREATE COLUMN TABLE PAL_SVM_DATA_TBL (\n    ID INTEGER,\n    ATTRIBUTE1 DOUBLE,\n    ATTRIBUTE2 DOUBLE,\n    ATTRIBUTE3 DOUBLE,\n    ATTRIBUTE4 VARCHAR(50)\n);\nINSERT INTO PAL_SVM_DATA_TBL VALUES(0,1,10,100,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(1,1.1,10.1,100,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(2,1.2,10.2,100,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(3,1.3,10.4,100,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(4,1.2,10.3,100,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(5,4,40,400,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(6,4.1,40.1,400,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(7,4.2,40.2,400,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(8,4.3,40.4,400,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(9,4.2,40.3,400,'AB');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(10,9,90,900,'B');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(11,9.1,90.1,900,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(12,9.2,90.2,900,'B');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(13,9.3,90.4,900,'A');\nINSERT INTO PAL_SVM_DATA_TBL VALUES(14,9.2,90.3,900,'A');\n\u200b\nDROP TABLE #PAL_PARAMETER_TBL;\nCREATE LOCAL TEMPORARY COLUMN TABLE #PAL_PARAMETER_TBL (\n    \"PARAM_NAME\" NVARCHAR(256),\n    \"INT_VALUE\" INTEGER,\n    \"DOUBLE_VALUE\" DOUBLE,\n    \"STRING_VALUE\" NVARCHAR (1000)\n);\nINSERT INTO #PAL_PARAMETER_TBL VALUES('KERNEL_TYPE',2,NULL,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES('TYPE',4,NULL,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES('CATEGORY_WEIGHT',NULL,1,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES('SCALE_INFO',0,NULL,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES('HANDLE_MISSING',0,NULL,NULL);\n--INSERT INTO #PAL_PARAMETER_TBL VALUES('RBF_GAMMA',NULL,0.166667,NULL);\n--INSERT INTO #PAL_PARAMETER_TBL VALUES('NU',NULL,0.5,NULL);\n\u200b\nDROP TABLE PAL_SVM_MODEL_TBL_EX4;\nCREATE COLUMN TABLE PAL_SVM_MODEL_TBL_EX4 (ROW_INDEX INTEGER, MODEL_CONTENT NVARCHAR(5000));\n\u200b\nCALL _SYS_AFL.PAL_SVM (PAL_SVM_DATA_TBL,#PAL_PARAMETER_TBL,PAL_SVM_MODEL_TBL_EX4,?,?) WITH OVERVIEW;\n"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/anomaly-detection?locale=en-US&q=Outlier+Detection+Kmeans",children:"Outlier Detection KMeans"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'SET SCHEMA DM_PAL; DROP TABLE PAL_AD_DATA_TBL;\nCREATE COLUMN TABLE PAL_AD_DATA_TBL( "ID" INTEGER, "V000" DOUBLE, "V001" DOUBLE\n);\nINSERT INTO PAL_AD_DATA_TBL VALUES (0 , 0.5, 0.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (1 , 1.5, 0.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (2 , 1.5, 1.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (3 , 0.5, 1.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (4 , 1.1, 1.2);\nINSERT INTO PAL_AD_DATA_TBL VALUES (5 , 0.5, 15.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (6 , 1.5, 15.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (7 , 1.5, 16.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (8 , 0.5, 16.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (9 , 1.2, 16.1);\nINSERT INTO PAL_AD_DATA_TBL VALUES (10, 15.5, 15.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (11, 16.5, 15.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (12, 16.5, 16.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (13, 15.5, 16.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (14, 15.6, 16.2);\nINSERT INTO PAL_AD_DATA_TBL VALUES (15, 15.5, 0.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (16, 16.5, 0.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (17, 16.5, 1.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (18, 15.5, 1.5);\nINSERT INTO PAL_AD_DATA_TBL VALUES (19, 15.7, 1.6);\nINSERT INTO PAL_AD_DATA_TBL VALUES (20, -1.0, -1.0); DROP TABLE #PAL_CONTROL_TBL;\nCREATE LOCAL TEMPORARY COLUMN TABLE #PAL_CONTROL_TBL( "NAME" VARCHAR (100), "INTARGS" INTEGER, "DOUBLEARGS" DOUBLE, "STRINGARGS" VARCHAR(100)\n);\nINSERT INTO #PAL_CONTROL_TBL VALUES (\'THREAD_NUMBER\',2,null,null);\nINSERT INTO #PAL_CONTROL_TBL VALUES (\'GROUP_NUMBER\',4,null,null);\nINSERT INTO #PAL_CONTROL_TBL VALUES (\'INIT_TYPE\',4,null,null);\nINSERT INTO #PAL_CONTROL_TBL VALUES (\'DISTANCE_LEVEL\',2,null,null);\nINSERT INTO #PAL_CONTROL_TBL VALUES (\'MAX_ITERATION\',100,null,null); CALL _SYS_AFL.PAL_ANOMALY_DETECTION(PAL_AD_DATA_TBL, #PAL_CONTROL_TBL, ?, ?, ?);\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library-pal/outlier-detection-outlier-detection-17253b4",children:"Temporal Series Outlier Detection"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:'SET SCHEMA DM_PAL;\n\u200b\nDROP TABLE PAL_OUTLIER_DATA_TBL;\nCREATE COLUMN TABLE PAL_OUTLIER_DATA_TBL (\n    "ID" INT,\n    "RAWDATA" DOUBLE\n);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (1, 0.917022);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (2, 1.22032449);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (3, 10.50011437);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (4, 0.80233257);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (5, 0.64675589);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (6, 10.59233859);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (7, 0.68626021);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (8, 0.84556073);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (9, 10.89676747);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (10, 5.03881673);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (11, 0.91919451);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (12, 11.1852195);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (13, 0.70445225);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (14, 1.37811744);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (15, 10.52738759);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (16, 1.17046751);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (17, 0.9173048);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (18, 11.05868983);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (19, 0.64038694);\nINSERT INTO PAL_OUTLIER_DATA_TBL VALUES (20, 0.69810149);\n\u200b\n\u200b\n\u200b\nDROP TABLE #PAL_PARAMETER_TBL;\nCREATE LOCAL TEMPORARY COLUMN TABLE #PAL_PARAMETER_TBL (\n    "PARAM_NAME" VARCHAR (256),\n    "INT_VALUE" INTEGER,\n    "DOUBLE_VALUE" DOUBLE,\n    "STRING_VALUE" VARCHAR (1000)\n);\nINSERT INTO #PAL_PARAMETER_TBL VALUES (\'AUTO\', 1,NULL,NULL);\n\u200b\nCALL "_SYS_AFL"."PAL_OUTLIER_DETECTION_FOR_TIME_SERIES"(PAL_OUTLIER_DATA_TBL, #PAL_PARAMETER_TBL, ?, ?, ?);\n'})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://help.sap.com/docs/hana-cloud-database/sap-hana-cloud-sap-hana-database-predictive-analysis-library/outlier-detection-for-regression?locale=en-US",children:"Outlier Detection for Regression"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sql",children:"SET SCHEMA DM_PAL;\n\u200b\nDROP TABLE #PAL_PARAMETER_TBL;\nCREATE LOCAL TEMPORARY COLUMN TABLE\n    #PAL_PARAMETER_TBL\n    (\"PARAM_NAME\" VARCHAR(256), \"INT_VALUE\" INTEGER, \"DOUBLE_VALUE\" DOUBLE, \"STRING_VALUE\" VARCHAR(1000));\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('THREAD_RATIO',NULL,0.5,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('REGRESSION_MODEL',0,NULL,NULL);\nINSERT INTO #PAL_PARAMETER_TBL VALUES ('DEPENDENT_VARIABLE',NULL,NULL,'Y');\n\u200b\nDROP TABLE PAL_DATA_TBL;\nCREATE COLUMN TABLE PAL_DATA_TBL\n    (\"ID\" INT, \"X1\" DOUBLE, \"X2\" DOUBLE, \"Y\" DOUBLE,\n    \"X3\" varchar(100));\nINSERT INTO PAL_DATA_TBL VALUES (0, 0.13, 0.33, 0.5, 'A');\nINSERT INTO PAL_DATA_TBL VALUES (1, 0.14, 0.34, 0.15, 'A');\nINSERT INTO PAL_DATA_TBL VALUES (2, 0.15, 0.36, 0.25, 'B');\nINSERT INTO PAL_DATA_TBL VALUES (3, 0.16, 0.35, 0.35, 'B');\nINSERT INTO PAL_DATA_TBL VALUES (4, 0.17, 0.37, 0.45, 'C');\nINSERT INTO PAL_DATA_TBL VALUES (5, 0.18, 0.38, 0.55, 'A');\nINSERT INTO PAL_DATA_TBL VALUES (6, 0.19, 0.39, 0.65, 'C');\nINSERT INTO PAL_DATA_TBL VALUES (7, 0.19, 0.31, 0.75, 'A');\nINSERT INTO PAL_DATA_TBL VALUES (8, 0.11, 0.32, 0.85, 'B');\nINSERT INTO PAL_DATA_TBL VALUES (9, 0.12, 0.33, 1.95, 'A');\n\u200b\nCALL _SYS_AFL.PAL_OUTLIER_DETECTION_FOR_REGRESSION(PAL_DATA_TBL,\"#PAL_PARAMETER_TBL\", ?, ?, ?);\n"})})]})]})}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"section-with-background blue",children:[(0,t.jsx)(n.h2,{id:"related-best-practices",children:(0,t.jsx)("span",{className:"post-article-first-title",children:"Related Best Practices"})}),(0,t.jsxs)("ul",{className:"button-grid",children:[(0,t.jsx)(A.A,{href:"/docs/technical-view/narrow-ai/time-series-forecasting",text:"Time Series Forecasting"}),(0,t.jsx)(A.A,{href:"/docs/technical-view/narrow-ai/regression",text:"Regression"})]})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"section-with-background purple",children:[(0,t.jsx)(n.h2,{id:"related-ai-capabilities",children:"Related AI Capabilities"}),(0,t.jsx)("h3",{children:(0,t.jsx)(p.A,{to:(0,l.Ay)("/docs/functional-view/decision-support"),children:"Decision Support"})}),(0,t.jsxs)("ul",{className:"button-grid",children:[(0,t.jsx)(A.A,{href:"/docs/functional-view/decision-support/anomaly-detection",text:"Anomaly Detection"}),(0,t.jsx)(A.A,{href:"/docs/functional-view/decision-support/data-clustering",text:"Data Clustering"})]})]}),(0,t.jsx)("br",{}),(0,t.jsxs)("div",{className:"section-with-background gradient-violet-blue",children:[(0,t.jsx)(n.h2,{id:"contributors",children:"Contributors"}),(0,t.jsx)(m.A,{contributorIds:["francisco-robledo","sergio-pacheco-sanchez","luis-marques"]})]})]})]})}function E(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},9329:(e,n,i)=>{i.d(n,{A:()=>r});i(6540);var s=i(4164);const t={tabItem:"tabItem_Ymn6"};var a=i(4848);function r(e){let{children:n,hidden:i,className:r}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,r),hidden:i,children:n})}}}]);